let birth_data= [31.8,
    11.62,
    23.58,
    40.23,
    15.11,
    16.83,
    13.65,
    12.1,
    9.6,
    14.1,
    13.88,
    13.62,
    17.87,
    10.62,
    9.3,
    10.1,
    20.51,
    35.83,
    17.01,
    21.45,
    7.94,
    24.23,
    13.7,
    14.46,
    8.8,
    37.45,
    38.38,
    19.06,
    22.02,
    34.89,
    9.9,
    41.66,
    12.19,
    10.5,
    14.65,
    31.41,
    40.64,
    32.4,
    13.69,
    35.46,
    8.9,
    9.96,
    10.24,
    10.5,
    10.5,
    21.0,
    19.19,
    19.46,
    25.71,
    18.05,
    32.78,
    29.74,
    10.6,
    25.88,
    31.9,
    20.95,
    8.3,
    11.2,
    30.97,
    38.07,
    13.2,
    9.4,
    28.99,
    7.8,
    16.2,
    24.21,
    35.97,
    34.56,
    19.72,
    23.96,
    21.34,
    9.5,
    12.3,
    17.64,
    17.75,
    18.42,
    28.56,
    12.1,
    20.1,
    7.0,
    15.91,
    7.0,
    21.48,
    21.73,
    28.3,
    27.45,
    5.9,
    13.25,
    26.9,
    23.12,
    9.8,
    17.38,
    26.41,
    32.69,
    18.3,
    9.8,
    10.0,
    32.41,
    33.73,
    16.61,
    13.58,
    41.03,
    8.6,
    33.26,
    10.2,
    17.3,
    22.71,
    9.93,
    23.36,
    11.67,
    18.5,
    37.17,
    17.4,
    28.15,
    19.58,
    9.7,
    11.96,
    20.21,
    45.64,
    37.45,
    11.25,
    10.65,
    10.2,
    18.51,
    27.84,
    18.7,
    26.79,
    20.34,
    17.76,
    20.17,
    9.9,
    8.4,
    9.38,
    9.6,
    9.8,
    31.25,
    24.1,
    6.7,
    31.15,
    17.3,
    33.95,
    9.3,
    16.4,
    32.88,
    8.8,
    10.5,
    9.3,
    31.96,
    41.59,
    20.13,
    34.65,
    7.6,
    15.54,
    11.84,
    14.09,
    31.83,
    18.3,
    11.1,
    10.0,
    23.22,
    30.04,
    36.34,
    10.17,
    29.28,
    32.71,
    24.01,
    12.58,
    17.09,
    15.78,
    23.07,
    37.38,
    8.1,
    10.22,
    10.7,
    11.4,
    13.74,
    24.3,
    29.18,
    17.57,
    16.45,
    29.87,
    35.78,
    29.75]
let health_expense = [49.84,
    274.91,
    255.87,
    87.62,
    875.17,
    1127.91,
    422.28,
    5425.34,
    5326.44,
    165.77,
    2013.38,
    994.18,
    41.91,
    1164.54,
    356.25,
    4912.7,
    285.99,
    30.94,
    102.74,
    223.6,
    539.55,
    482.96,
    848.39,
    763.15,
    689.91,
    40.25,
    24.03,
    194.86,
    90.56,
    54.14,
    4994.9,
    29.24,
    1455.61,
    501.06,
    513.16,
    65.23,
    18.51,
    47.52,
    909.67,
    71.88,
    1014.22,
    986.94,
    1954.41,
    1765.59,
    6216.77,
    70.86,
    461.54,
    516.25,
    125.55,
    288.52,
    314.3,
    23.79,
    1552.97,
    271.14,
    24.23,
    214.55,
    4515.68,
    4690.07,
    218.37,
    22.16,
    312.75,
    5472.2,
    77.91,
    1566.9,
    474.53,
    259.62,
    38.32,
    53.29,
    295.56,
    64.25,
    176.25,
    1081.8,
    6530.93,
    72.83,
    111.68,
    484.29,
    239.41,
    5489.07,
    3323.65,
    2989.0,
    320.98,
    4266.59,
    330.14,
    275.85,
    88.39,
    196.85,
    2542.82,
    1711.22,
    85.74,
    57.11,
    1101.49,
    686.47,
    124.79,
    45.42,
    25.27,
    1249.25,
    6227.08,
    22.05,
    35.5,
    427.22,
    973.54,
    34.95,
    2753.51,
    54.49,
    653.35,
    519.61,
    415.82,
    212.97,
    155.09,
    731.48,
    174.78,
    40.26,
    59.21,
    471.49,
    57.85,
    5306.53,
    4037.46,
    173.77,
    30.36,
    83.75,
    10050.28,
    399.1,
    8239.1,
    678.23,
    42.87,
    1131.66,
    63.77,
    400.39,
    369.08,
    136.54,
    978.74,
    2215.17,
    1716.27,
    687.25,
    609.01,
    58.31,
    227.33,
    3463.7,
    125.4,
    1484.59,
    58.9,
    617.09,
    833.08,
    85.78,
    2823.64,
    1299.91,
    2169.58,
    94.96,
    1229.84,
    525.96,
    26.79,
    2736.32,
    157.47,
    464.71,
    329.26,
    60.17,
    474.13,
    5981.71,
    9870.66,
    26.56,
    59.84,
    36.82,
    275.92,
    93.69,
    41.84,
    236.93,
    1123.42,
    251.55,
    389.87,
    460.18,
    43.14,
    228.39,
    1817.35,
    4315.43,
    10623.85,
    1590.05,
    82.27,
    105.39,
    256.95,
    151.69,
    27.47,
    75.99,
    140.32]
let death_data = [6.29,
 8.08,
 4.72,
 7.98,
 6.42,
 7.6,
 9.84,
 6.7,
 9.4,
 5.6,
 6.84,
 2.41,
 5.53,
 9.07,
 12.8,
 9.5,
 4.76,
 8.72,
 6.25,
 6.76,
 10.88,
 5.71,
 6.53,
 4.55,
 15.5,
 7.91,
 7.77,
 5.58,
 5.99,
 9.06,
 7.6,
 11.91,
 6.25,
 7.1,
 5.63,
 7.13,
 9.29,
 6.61,
 5.15,
 9.87,
 12.7,
 9.15,
 7.1,
 10.5,
 9.3,
 6.98,
 6.19,
 5.12,
 5.78,
 7.07,
 9.11,
 7.01,
 11.6,
 9.06,
 6.42,
 8.26,
 9.8,
 9.1,
 6.7,
 7.72,
 12.79,
 11.3,
 7.22,
 11.7,
 9.58,
 4.72,
 8.22,
 9.43,
 7.55,
 8.45,
 4.45,
 13.3,
 6.3,
 7.26,
 6.51,
 4.84,
 4.74,
 6.3,
 5.1,
 10.5,
 7.59,
 11.1,
 3.89,
 7.19,
 5.39,
 6.28,
 5.7,
 2.8,
 5.2,
 6.37,
 14.5,
 4.46,
 13.93,
 7.38,
 5.1,
 13.7,
 6.9,
 5.93,
 6.42,
 5.17,
 2.76,
 9.41,
 7.3,
 7.12,
 8.8,
 6.08,
 6.62,
 11.69,
 6.33,
 10.75,
 5.06,
 8.21,
 8.21,
 7.89,
 6.32,
 8.8,
 6.87,
 5.08,
 8.03,
 11.63,
 8.59,
 10.14,
 7.6,
 2.42,
 6.89,
 5.11,
 7.35,
 5.54,
 5.58,
 5.92,
 10.8,
 10.9,
 1.24,
 13.4,
 13.3,
 5.12,
 5.2,
 7.2,
 4.76,
 3.5,
 5.6,
 14.6,
 8.1,
 11.51,
 5.0,
 9.8,
 9.9,
 4.23,
 10.67,
 9.4,
 10.34,
 8.8,
 6.75,
 7.26,
 9.34,
 7.12,
 7.39,
 8.6,
 7.9,
 5.11,
 4.77,
 6.25,
 7.79,
 5.94,
 8.32,
 7.1,
 8.5,
 6.26,
 5.44,
 7.04,
 6.38,
 14.7,
 1.52,
 9.0,
 8.7,
 9.47,
 4.6,
 5.2,
 7.12,
 6.38,
 5.98,
 6.32,
 7.77]
let immunization = [64.57,
    98.0,
    88.57,
    54.14,
    96.14,
    88.29,
    94.29,
    95.14,
    87.86,
    95.57,
    86.86,
    98.71,
    97.57,
    89.57,
    96.71,
    95.43,
    96.86,
    78.71,
    95.57,
    71.86,
    75.29,
    93.14,
    77.43,
    98.57,
    91.0,
    88.71,
    91.0,
    96.29,
    90.57,
    71.0,
    88.71,
    57.29,
    95.43,
    98.26,
    91.43,
    91.29,
    64.0,
    68.14,
    93.86,
    84.86,
    94.43,
    99.0,
    92.71,
    94.43,
    95.57,
    85.57,
    86.0,
    83.57,
    95.0,
    81.57,
    62.86,
    94.86,
    90.57,
    87.57,
    63.57,
    97.86,
    93.43,
    92.57,
    74.57,
    83.71,
    95.43,
    93.14,
    94.14,
    95.71,
    92.43,
    84.29,
    56.71,
    82.71,
    97.57,
    58.0,
    86.86,
    98.43,
    93.29,
    90.57,
    84.14,
    98.86,
    86.14,
    93.0,
    97.29,
    94.14,
    95.29,
    97.29,
    89.0,
    96.0,
    84.57,
    93.43,
    97.71,
    94.29,
    95.71,
    68.0,
    98.14,
    81.57,
    88.0,
    68.29,
    73.0,
    93.0,
    97.0,
    77.71,
    91.0,
    96.29,
    99.0,
    65.71,
    96.86,
    82.86,
    97.71,
    74.86,
    73.0,
    93.57,
    98.14,
    78.71,
    99.0,
    88.29,
    87.86,
    82.14,
    90.71,
    93.57,
    92.29,
    98.43,
    75.86,
    51.14,
    92.61,
    90.0,
    96.57,
    99.0,
    76.29,
    92.14,
    36.57,
    85.57,
    83.29,
    63.29,
    92.14,
    98.14,
    97.86,
    88.0,
    96.57,
    96.86,
    64.29,
    87.31,
    93.0,
    89.86,
    91.0,
    94.43,
    98.86,
    90.14,
    94.43,
    97.0,
    95.0,
    83.86,
    48.89,
    74.0,
    55.14,
    96.14,
    99.0,
    90.43,
    98.14,
    89.71,
    75.14,
    86.71,
    91.14,
    59.86,
    97.29,
    86.71,
    95.43,
    85.57,
    81.43,
    99.0,
    94.29,
    92.57,
    96.71,
    98.86,
    90.57,
    83.29,
    97.57,
    92.43,
    93.0,
    95.57,
    97.43,
    89.29,
    64.43,
    91.29,
    66.86,
    86.71,
    87.86];

let physicians =   [1.52,
 2.38,
 1.72,
 1.64,
 1.15,
 0.92,
 2.88,
 0.94,
 2.17,
 2.25,
 1.23,
 0.08,
 0.58,
 2.66,
 3.19,
 0.93,
 1.23,
 0.08,
 0.42,
 4.97,
 2.52,
 2.35,
 2.16,
 1.71,
 1.76,
 0.69,
 3.25,
 1.23,
 1.5,
 0.94,
 1.52,
 0.79,
 2.59,
 1.47,
 2.18,
 0.42,
 0.73,
 2.35,
 2.89,
 0.94,
 1.29,
 8.42,
 0.87,
 4.12,
 1.1,
 0.99,
 2.47,
 1.32,
 0.45,
 0.7,
 1.14,
 0.37,
 4.48,
 1.9,
 0.08,
 0.6,
 1.53,
 3.27,
 1.35,
 2.45,
 7.12,
 1.68,
 0.91,
 1.71,
 0.65,
 0.35,
 0.07,
 0.96,
 0.8,
 0.23,
 2.29,
 3.41,
 4.08,
 0.86,
 0.43,
 1.58,
 0.71,
 3.31,
 4.62,
 3.98,
 2.05,
 1.83,
 2.23,
 0.83,
 0.16,
 0.65,
 1.09,
 1.87,
 1.35,
 2.08,
 0.86,
 2.1,
 1.3,
 2.08,
 1.67,
 6.35,
 1.18,
 1.24,
 0.04,
 0.8,
 4.56,
 0.13,
 1.33,
 0.19,
 2.53,
 1.85,
 0.65,
 0.75,
 2.15,
 2.76,
 1.37,
 0.08,
 0.68,
 0.42,
 0.75,
 0.4,
 3.59,
 0.98,
 0.79,
 0.38,
 2.05,
 1.72,
 2.92,
 2.0,
 0.98,
 2.2,
 0.07,
 1.35,
 0.8,
 0.88,
 1.47,
 2.32,
 2.49,
 0.72,
 2.1,
 0.13,
 0.32,
 2.08,
 0.14,
 2.61,
 0.97,
 1.12,
 1.15,
 2.56,
 1.75,
 1.92,
 2.21,
 0.18,
 1.18,
 2.95,
 3.19,
 1.91,
 1.0,
 0.83,
 0.73,
 2.09,
 1.21,
 1.43,
 2.86,
 2.25,
 1.78,
 1.77,
 0.81,
 0.72,
 0.08,
 0.35,
 4.17,
 0.34,
 2.92,
 1.21,
 1.32,
 0.93,
 2.53,
 2.81,
 2.08,
 2.38,
 1.18,
 2.68,
 0.91,
 0.76,
 0.6,
 1.19,
 0.21]
let unemployment = [11.06,
    12.3,
    11.89,
    7.0,
    6.52,
    9.22,
    18.97,
    5.3,
    4.85,
    4.9,
    10.0,
    1.51,
    4.29,
    10.0,
    4.76,
    5.95,
    6.52,
    2.37,
    2.3,
    3.52,
    18.4,
    17.32,
    12.33,
    8.7,
    5.21,
    4.7,
    1.45,
    12.17,
    0.13,
    3.36,
    5.83,
    1.89,
    7.23,
    4.3,
    9.11,
    7.78,
    4.18,
    9.66,
    9.63,
    3.21,
    8.43,
    1.7,
    8.37,
    2.24,
    5.13,
    11.06,
    5.86,
    3.53,
    9.82,
    4.01,
    8.03,
    6.41,
    5.37,
    22.37,
    2.07,
    4.16,
    7.36,
    9.02,
    19.77,
    9.02,
    12.67,
    3.38,
    4.16,
    19.29,
    6.52,
    2.41,
    4.19,
    2.84,
    14.02,
    13.58,
    5.65,
    3.71,
    2.7,
    5.33,
    4.4,
    12.06,
    12.87,
    5.74,
    4.0,
    10.61,
    9.1,
    2.4,
    16.29,
    4.85,
    2.64,
    6.58,
    3.82,
    2.34,
    6.79,
    0.64,
    7.41,
    6.1,
    23.98,
    2.94,
    18.46,
    6.15,
    5.59,
    1.69,
    5.62,
    3.3,
    5.9,
    7.31,
    3.66,
    10.22,
    6.43,
    3.28,
    6.5,
    4.11,
    5.38,
    15.18,
    9.08,
    3.24,
    0.87,
    19.88,
    2.9,
    3.83,
    4.3,
    5.2,
    0.47,
    8.45,
    4.11,
    20.74,
    3.8,
    1.8,
    4.08,
    3.89,
    2.41,
    5.56,
    3.18,
    2.34,
    3.85,
    6.99,
    0.11,
    4.19,
    4.85,
    1.02,
    8.32,
    12.74,
    13.14,
    6.04,
    6.53,
    12.73,
    6.52,
    4.42,
    3.65,
    6.54,
    5.11,
    0.62,
    12.89,
    26.91,
    12.1,
    15.26,
    4.32,
    19.29,
    18.73,
    16.87,
    7.0,
    6.37,
    4.71,
    8.23,
    6.72,
    1.99,
    0.77,
    4.48,
    3.66,
    3.07,
    3.4,
    15.46,
    10.89,
    3.79,
    1.75,
    8.8,
    2.23,
    4.0,
    3.9,
    8.34,
    5.71,
    1.72,
    7.22,
    1.16,
    13.01,
    12.01,
    5.07]
let population = [37172386.0,
    2866376.0,
    42228429.0,
    30809762.0,
    96286.0,
    44494502.0,
    2951776.0,
    24982688.0,
    8840521.0,
    9939771.0,
    385640.0,
    1569439.0,
    161356039.0,
    286641.0,
    9483499.0,
    11427054.0,
    383071.0,
    11485048.0,
    754394.0,
    11353142.0,
    3323929.0,
    2254126.0,
    209469333.0,
    428962.0,
    7025037.0,
    19751535.0,
    11175378.0,
    543767.0,
    16249798.0,
    25216237.0,
    37065178.0,
    15477751.0,
    18729160.0,
    1392730000.0,
    49661056.0,
    832322.0,
    84068091.0,
    5244363.0,
    4999441.0,
    25069229.0,
    4087843.0,
    11338138.0,
    1189265.0,
    10629928.0,
    5793636.0,
    958920.0,
    10627165.0,
    17084357.0,
    98423595.0,
    6420744.0,
    1308974.0,
    94595948.6,
    1321977.0,
    1136191.0,
    109224559.0,
    883483.0,
    5515525.0,
    66965912.0,
    2119275.0,
    2280102.0,
    3726549.0,
    82905782.0,
    29767108.0,
    10732882.0,
    111454.0,
    16346950.0,
    12414318.0,
    1874309.0,
    779004.0,
    11123176.0,
    9587522.0,
    9775564.0,
    352721.0,
    1352617328.0,
    267663435.0,
    81800269.0,
    38433600.0,
    4867316.0,
    8882800.0,
    60421760.0,
    2934855.0,
    126529100.0,
    9956011.0,
    18276452.0,
    51393010.0,
    115847.0,
    51606633.0,
    4137312.0,
    6322800.0,
    7061507.0,
    1927174.0,
    6848925.0,
    2108132.0,
    4818977.0,
    6678567.0,
    2801543.0,
    607950.0,
    26262368.0,
    18143315.0,
    31528585.0,
    515696.0,
    19077690.0,
    484630.0,
    4403319.0,
    1265303.0,
    126190788.0,
    112640.0,
    2708214.0,
    3170208.0,
    622227.0,
    36029138.0,
    29495962.0,
    53708395.0,
    2448255.0,
    28087871.0,
    17231624.0,
    4900600.0,
    6465513.0,
    22442948.0,
    195874740.0,
    363816599.0,
    2082958.0,
    5311916.0,
    4829483.0,
    212215030.0,
    4176873.0,
    8606316.0,
    6956071.0,
    31989256.0,
    106651922.0,
    37974750.0,
    10283822.0,
    2781677.0,
    19472545.0,
    144477859.0,
    12301939.0,
    196130.0,
    10602315.8,
    211028.0,
    33699947.0,
    15854360.0,
    6982604.0,
    96762.0,
    7650154.0,
    5638676.0,
    5446771.0,
    2073894.0,
    652858.0,
    15008154.0,
    57792520.0,
    10975920.0,
    46797754.0,
    21670000.0,
    181889.0,
    110210.0,
    41801533.0,
    575987.0,
    10175214.0,
    8514329.0,
    16906283.0,
    9100837.0,
    56318348.0,
    69428524.0,
    1267972.0,
    7889094.0,
    103197.0,
    1389858.0,
    11565204.0,
    82319724.0,
    5850908.0,
    42723139.0,
    44622518.0,
    9630959.0,
    66460344.0,
    326687501.0,
    3449299.0,
    32956100.0,
    292680.0,
    28870195.0,
    95540395.0,
    28498687.0,
    17351822.0,
    14439018.0]
let country_code =['AF',
'AL',
'DZ',
'AO',
'AG',
'AR',
'AM',
'AU',
'AT',
'AZ',
'BS',
'BH',
'BD',
'BB',
'BY',
'BE',
'BZ',
'BJ',
'BT',
'BO',
'BA',
'BW',
'BR',
'BN',
'BG',
'BF',
'BI',
'CV',
'KH',
'CM',
'CA',
'CF',
'TD',
'CL',
'CN',
'CO',
'KM',
'CR',
'HR',
'CU',
'CY',
'CZ',
'DK',
'DJ',
'DO',
'EC',
'SV',
'GQ',
'ER',
'EE',
'SZ',
'ET',
'FJ',
'FI',
'FR',
'GA',
'GM',
'GE',
'DE',
'GH',
'GR',
'GD',
'GT',
'GN',
'GW',
'GY',
'HT',
'HN',
'HU',
'IS',
'IN',
'ID',
'IR',
'IQ',
'IE',
'IL',
'IT',
'JM',
'JP',
'JO',
'KZ',
'KE',
'KI',
'KR',
'KW',
'KG',
'LA',
'LV',
'LB',
'LS',
'LR',
'LY',
'LT',
'LU',
'MG',
'MW',
'MY',
'MV',
'ML',
'MT',
'MR',
'MU',
'MX',
'FM',
'MD',
'MN',
'ME',
'MA',
'MZ',
'MM',
'NA',
'NP',
'NL',
'NZ',
'NI',
'NE',
'NG',
'XU',
'MK',
'NO',
'OM',
'PK',
'PA',
'PG',
'PY',
'PE',
'PH',
'PL',
'PT',
'QA',
'RO',
'RU',
'RW',
'WS',
'SM',
'SA',
'SN',
'RS',
'SC',
'SL',
'SG',
'SK',
'SI',
'SB',
'SO',
'ZA',
'SS',
'ES',
'LK',
'LC',
'VC',
'SD',
'SR',
'SE',
'CH',
'SY',
'TJ',
'TZ',
'TH',
'TL',
'TG',
'TO',
'TT',
'TN',
'TR',
'TM',
'UG',
'UA',
'AE',
'GB',
'US',
'UY',
'UZ',
'VU',
'VE',
'VN',
'YE',
'ZM',
'ZW',
'BS',
'CD',
'CG',
'CI',
'EG']
let country_name = ['Afghanistan', 'Albania', 'Algeria', 'Angola',
'Antigua and Barbuda', 'Argentina', 'Armenia', 'Australia',
'Austria', 'Azerbaijan', 'Bahamas', 'Bahrain', 'Bangladesh',
'Barbados', 'Belarus', 'Belgium', 'Belize', 'Benin', 'Bhutan',
'Bolivia', 'Bosnia and Herzegovina', 'Botswana', 'Brazil',
'Brunei Darussalam', 'Bulgaria', 'Burkina Faso', 'Burundi',
'Cabo Verde', 'Cambodia', 'Cameroon', 'Canada', 'Chad', 'Chile',
'China', 'Colombia', 'Comoros', 'Congo Dem. Rep.', 'Congo Rep.',
'Costa Rica', "Cote d'Ivoire", 'Croatia', 'Cuba', 'Cyprus',
'Czech Republic', 'Denmark', 'Djibouti', 'Dominican Republic',
'Ecuador', 'Egypt Arab Rep.', 'El Salvador', 'Equatorial Guinea',
'Eritrea', 'Estonia', 'Eswatini', 'Ethiopia', 'Fiji', 'Finland',
'France', 'Gabon', 'Gambia, The', 'Georgia', 'Germany', 'Ghana',
'Greece', 'Grenada', 'Guatemala', 'Guinea', 'Guinea-Bissau',
'Guyana', 'Haiti', 'Honduras', 'Hungary', 'Iceland', 'India',
'Indonesia', 'Iran, Islamic Rep.', 'Iraq', 'Ireland', 'Israel',
'Italy', 'Jamaica', 'Japan', 'Jordan', 'Kazakhstan', 'Kenya',
'Kiribati', 'Korea, Rep.', 'Kuwait', 'Kyrgyz Republic', 'Lao PDR',
'Latvia', 'Lebanon', 'Lesotho', 'Liberia', 'Libya', 'Lithuania',
'Luxembourg', 'Madagascar', 'Malawi', 'Malaysia', 'Maldives',
'Mali', 'Malta', 'Mauritania', 'Mauritius', 'Mexico',
'Micronesia, Fed. Sts.', 'Moldova', 'Mongolia', 'Montenegro',
'Morocco', 'Mozambique', 'Myanmar', 'Namibia', 'Nepal',
'Netherlands', 'New Zealand', 'Nicaragua', 'Niger', 'Nigeria',
'North America', 'North Macedonia', 'Norway', 'Oman', 'Pakistan',
'Panama', 'Papua New Guinea', 'Paraguay', 'Peru', 'Philippines',
'Poland', 'Portugal', 'Qatar', 'Romania', 'Russian Federation',
'Rwanda', 'Samoa', 'San Marino', 'Sao Tome and Principe',
'Saudi Arabia', 'Senegal', 'Serbia', 'Seychelles', 'Sierra Leone',
'Singapore', 'Slovak Republic', 'Slovenia', 'Solomon Islands',
'Somalia', 'South Africa', 'South Sudan', 'Spain', 'Sri Lanka',
'St. Lucia', 'St. Vincent and the Grenadines', 'Sudan', 'Suriname',
'Sweden', 'Switzerland', 'Syrian Arab Republic', 'Tajikistan',
'Tanzania', 'Thailand', 'Timor-Leste', 'Togo', 'Tonga',
'Trinidad and Tobago', 'Tunisia', 'Turkey', 'Turkmenistan',
'Uganda', 'Ukraine', 'United Arab Emirates', 'United Kingdom',
'United States', 'Uruguay', 'Uzbekistan', 'Vanuatu',
'Venezuela, RB', 'Vietnam', 'Yemen, Rep.', 'Zambia', 'Zimbabwe']
le2019 = [64.83,
    78.57,
    76.88,
    61.15,
    77.02,
    76.67,
    75.09,
    82.9,
    81.79,
    73.0,
    73.92,
    77.29,
    72.59,
    79.19,
    74.23,
    81.75,
    74.62,
    61.77,
    71.78,
    71.51,
    77.4,
    69.59,
    75.88,
    75.86,
    74.91,
    61.58,
    61.58,
    72.98,
    69.82,
    59.29,
    82.05,
    54.24,
    80.18,
    76.91,
    77.29,
    64.32,
    60.68,
    64.57,
    80.28,
    57.78,
    78.42,
    78.8,
    80.98,
    79.13,
    81.2,
    67.11,
    74.08,
    77.01,
    71.99,
    73.32,
    58.73,
    66.32,
    78.5,
    60.19,
    66.6,
    67.44,
    81.79,
    82.58,
    66.47,
    62.05,
    73.77,
    80.94,
    64.07,
    81.94,
    72.4,
    74.3,
    61.6,
    58.32,
    69.91,
    64.0,
    75.27,
    76.02,
    82.56,
    69.66,
    71.72,
    76.68,
    70.6,
    82.3,
    82.8,
    83.2,
    74.47,
    84.36,
    74.53,
    73.18,
    66.7,
    68.37,
    83.23,
    75.49,
    71.6,
    67.92,
    75.24,
    78.93,
    54.33,
    64.1,
    72.91,
    76.13,
    82.45,
    67.04,
    64.26,
    76.16,
    78.92,
    59.31,
    82.6,
    64.92,
    74.24,
    75.05,
    67.88,
    71.9,
    69.87,
    76.88,
    76.68,
    60.85,
    67.13,
    63.71,
    70.78,
    82.01,
    81.71,
    74.48,
    62.42,
    54.69,
    79.12,
    75.8,
    82.91,
    77.86,
    67.27,
    78.51,
    64.5,
    74.25,
    76.74,
    71.23,
    77.86,
    80.68,
    80.23,
    75.46,
    73.08,
    69.02,
    73.32,
    1.5,
    70.39,
    75.13,
    67.94,
    75.69,
    73.94,
    54.7,
    83.5,
    77.47,
    81.28,
    73.0,
    57.4,
    64.13,
    57.85,
    83.49,
    76.98,
    76.2,
    72.53,
    65.31,
    71.68,
    82.96,
    83.7,
    72.7,
    71.1,
    65.46,
    77.15,
    69.5,
    61.04,
    70.91,
    73.51,
    76.7,
    77.69,
    68.19,
    63.37,
    71.83,
    77.97,
    81.2,
    78.79,
    77.91,
    71.72,
    70.47,
    72.06,
    75.4,
    66.12,
    63.89,
    61.49];
code3 = ['AFG',
'ALB',
'DZA',
'AGO',
'ATG',
'ARG',
'ARM',
'AUS',
'AUT',
'AZE',
'BHS',
'BHR',
'BGD',
'BRB',
'BLR',
'BEL',
'BLZ',
'BEN',
'BTN',
'BOL',
'BIH',
'BWA',
'BRA',
'BRN',
'BGR',
'BFA',
'BDI',
'CPV',
'KHM',
'CMR',
'CAN',
'CAF',
'TCD',
'CHL',
'CHN',
'COL',
'COM',
'CRI',
'HRV',
'CUB',
'CYP',
'CZE',
'DNK',
'DJI',
'DOM',
'ECU',
'SLV',
'GNQ',
'ERI',
'EST',
'SWZ',
'ETH',
'FJI',
'FIN',
'FRA',
'GAB',
'GMB',
'GEO',
'DEU',
'GHA',
'GRC',
'GRD',
'GTM',
'GIN',
'GNB',
'GUY',
'HTI',
'HND',
'HUN',
'ISL',
'IND',
'IDN',
'IRN',
'IRQ',
'IRL',
'ISR',
'ITA',
'JAM',
'JPN',
'JOR',
'KAZ',
'KEN',
'KIR',
'KOR',
'KWT',
'KGZ',
'LAO',
'LVA',
'LBN',
'LSO',
'LBR',
'LBY',
'LTU',
'LUX',
'MDG',
'MWI',
'MYS',
'MDV',
'MLI',
'MLT',
'MRT',
'MUS',
'MEX',
'FSM',
'MDA',
'MNG',
'MNE',
'MAR',
'MOZ',
'MMR',
'NAM',
'NPL',
'NLD',
'NZL',
'NIC',
'NER',
'NGA',
'NAC',
'MKD',
'NOR',
'OMN',
'PAK',
'PAN',
'PNG',
'PRY',
'PER',
'PHL',
'POL',
'PRT',
'QAT',
'ROU',
'RUS',
'RWA',
'WSM',
'SMR',
'SAU',
'SEN',
'SRB',
'SYC',
'SLE',
'SGP',
'SVK',
'SVN',
'SLB',
'SOM',
'ZAF',
'SSD',
'ESP',
'LKA',
'LCA',
'VCT',
'SDN',
'SUR',
'SWE',
'CHE',
'SYR',
'TJK',
'TZA',
'THA',
'TLS',
'TGO',
'TON',
'TTO',
'TUN',
'TUR',
'TKM',
'UGA',
'UKR',
'ARE',
'GBR',
'USA',
'URY',
'UZB',
'VUT',
'VEN',
'VNM',
'YEM',
'ZMB',
'ZWE',
'BHS',
'COD',
'COG',
'CIV',
'EGY']
let xsel = document.getElementById("x-select");
let ysel = document.getElementById("y-select");
let vsel =  document.getElementById("var-select");
let x = 'Birth Rate', xindex = 0 , y = 'Population', yindex =6 , v = 'Immunization', vindex=3;
let flag = false;
console.log(
    'bubblechart.js '
);
xsel.addEventListener('change',() => {
    console.log(flag);
    x = xsel.options[xsel.selectedIndex].text;
    xindex = xsel.selectedIndex - 1;
    console.log(x);
    
    if(flag== true){
        document.getElementsByClassName(".button-bubble")[0].classList.remove('inactiveLink')
    }
    
    flag = true;
})
ysel.addEventListener('change',() => {
    console.log(flag);
    y = ysel.options[ysel.selectedIndex].text;
    yindex = ysel.selectedIndex - 1;
    console.log(y);
    if(flag== true){
        document.getElementsByClassName(".button-bubble")[0].classList.remove('inactiveLink')
    }
    
    flag = true;
})
vsel.addEventListener('change',() => {
    v = ysel.options[vsel.selectedIndex].text;
    vindex = vsel.selectedIndex - 1;
    document.querySelector(".btn-scatter .btn").classList.remove('inactiveLink')
})

   
factors_array = [birth_data, health_expense, death_data, immunization, physicians, unemployment, population]
seriesY = [];

function analysefactors(){
    bubble_data =[];
    console.log(xindex);
    for(i=0; i<birth_data.length; i++){
        obj = {
            x: factors_array[xindex][i],
            y: factors_array[yindex][i],
            z: le2019[i],
            name:  country_code[i],
            country: country_name[i]
        }
        bubble_data.push(obj)
    }
    
    createbubblechart(bubble_data, x, y);
}
function plotscatter(){
    scatter_data=[];
    for(i=0; i<country_name.length; i++){
        arr = [factors_array[vindex][i], le2019[i] ]
        scatter_data.push(arr)
    }
    Highcharts.chart('sp-container', {
        chart: {
            type: 'scatter',
            zoomType: 'xy'
        },
        title: {
            text: v +" versus Life Expectancy"
        },
        // subtitle: {
        //     text: 'Source: Heinz  2003'
        // },
        xAxis: {
            title: {
                enabled: true,
                text: v
            },
            startOnTick: true,
            endOnTick: true,
            showLastLabel: true
        },
        yAxis: {
            title: {
                text: 'Years'
            }
        },
        legend: {
            layout: 'vertical',
            align: 'left',
            verticalAlign: 'top',
            x: 100,
            y: 70,
            floating: true,
            backgroundColor: Highcharts.defaultOptions.chart.backgroundColor,
            borderWidth: 1
        },
        plotOptions: {
            scatter: {
                marker: {
                    radius: 5,
                    states: {
                        hover: {
                            enabled: true,
                            lineColor: 'rgb(100,100,100)'
                        }
                    }
                },
                states: {
                    hover: {
                        marker: {
                            enabled: false
                        }
                    }
                },
                tooltip: {
                    headerFormat: '<b>{series.name}</b><br>',
                    pointFormat: '{v}: {point.x} , {point.y} years'
                }
            }
        },
        series: [{
            name: v,
            // color: 'rgba(223, 83, 83, .5)',
            data: scatter_data
    
        }, ]
    });
}
function createbubblechart(series_arr, xvar, yvar){
    console.log(bubble_data);
    console.log("x: ",xvar);
    console.log("y: ",yvar);
         $("#bubble-container").highcharts({
             chart: {
                  type: "bubble",
                  animation: {
                    duration: 3000
                },
                  plotBorderWidth: 1,
                  zoomType: "xy",
                  panning: {
                    enabled: true,
                    type: 'xy'
                },
                  panKey: 'shift'
          },
            legend: {
                 enabled: false,
          },
          title: {
              text: "Life Expectancy vs Factors",
            },
            // subtitle: {
            //     text: 'Source: <a href="https://data.https://worldhappiness.report/ed/2021/#appendices-and-data.org/">OECD,
            // },
            accessibility: {
                point: {
                    valueDescriptionFormat:`{index}. {point.name}, {xvar}: {point.x}g, {yvar}t: {point.y}g, Life Expectancy: {point.z} Years.`,
                },
            },
            xAxis: {
                gridLineWidth: 1,
                title: {
                    text: xvar,
                },
                labels: {
                    format: "{value} ",
                },
            },
            yAxis: {
                startOnTick: false,
                endOnTick: false,
                title: {
                    text: yvar,
                },
                labels: { 
                    format: "{value} ",
                },
                maxPadding: 0.2,
            },
            tooltip: {
                useHTML: true,
                headerFormat: "<table>",
                pointFormat: '<tr><th colspan="2"><h3>{point.country}</h3></th></tr>' +"<tr><th>" +xvar +":</th><td>{point.x}</td></tr>" + "<tr><th>" + yvar + ":</th><td>{point.y}</td></tr>" +"<tr><th>Life Expectancy:</th><td>{point.z} Years</td></tr>",
                footerFormat: "</table>",
                followPointer: true,
            },
            plotOptions: {
                series: {
                    dataLabels: {
                        enabled: true,
                        format: "{point.name}",
                    },
                },
            },
            series: [{
                data: series_arr,
            },
            ],
        });
    }